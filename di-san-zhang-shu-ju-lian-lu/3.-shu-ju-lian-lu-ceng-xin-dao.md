# 3. 数据链路层应用

**传输数据使用的两种链路：**

* **点对点链路：**两个相邻节点通过一个链路相连，没有第三者

  **应用：**PPP协议，常用于**广域网**

* **广播是链路：**所有主机共享通信介质

  **应用：**早期的总线以太网、无线局域网，常用于**局域网**

  **典型拓扑结构：**总线型、星型（逻辑总线型）

**总线型 & 星型**

\*\*\*\*![](../.gitbook/assets/image%20%2837%29.png)  ****![](../.gitbook/assets/image%20%2856%29.png) 

* **总线型缺点：**如果某一处出现故障，所有主机都不能通信
* 星型刚好避免了总线型的缺点

**数据链路层要解决的问题：**如果 A 主机和 B 主机通信，A 发送信息，同时 B 也发送信息，在传输过程中会造成干扰。想一个办法**（介质访问控制）**使两个节点在通信时不会相互干扰。

## 1. 介质访问控制

**介质访问控制**的内容：采取一定的措施，使得两对节点之间的通信不会发生相互干扰的情况。

![](../.gitbook/assets/jie-zhi-fang-wen-kong-zhi-.svg)

## 2. 信道划分介质访问控制

信道划分介质访问控制：将使用介质的每个设备与来自同一信道上的其他设备的**通信隔离开**，把**时域和频域资源**合理地分配给网络上的设备。

![](../.gitbook/assets/image%20%2876%29.png)

**多路复用技术：**把多个信号组合在一条物理信道上进行传输，使得多个计算机或终端设备**共享信道资源**，提高信道利用率。

把一条广播信道，逻辑上分为几条用于两个节点之间通信的互不干扰的子信道，**实际就是把广播信道转变为点对点信道**。

### 2.1 频分多路复用 FDM

![](../.gitbook/assets/image%20%2829%29.png)

用户在分配一定的频带后，在通信过程中自始至终都占用这个频带。**频分复用的所有用户在同样的时间占用不同的带宽（频率带宽）资源**。

充分利用传输介质带宽，系统**效率较高**；由于技术比较成熟，实现也比较**容易**。

### 2.2 时分多路复用 TDM

![](../.gitbook/assets/image%20%2832%29.png)

将时间划分为一段段等长的时分复用帧（TDM帧）。每一个时分复用的用户在每一个 TDM 帧中占用**固定序号的时隙**，所有用户轮流占用信道。

频分复用：**并行**；时分复用：**并发**

**缺点：**如果 A、B、C 全部没有工作，为休息状态，那么对于 D 来说，只能发送一段时间，需要等待三个时间段才能再次发送数据，这样信道利用率就会极低。

### 2.3 统计时分复用 STDM

改进时分多路复用的缺点，信道利用率低的情况。

![](../.gitbook/assets/image%20%28102%29.png)

每一个 STDM 帧中的时隙数**小于**连接在集中器上的用户数。各用户有了数据就随时发往集中器的输入缓存，然后集中器按顺序依次扫描**输入缓存**，把缓存中的输入数据放入 STDM 帧中，一个 STDM 帧满了就发出。**STDM 帧不是固定分配时隙，而是按需动态分配时隙**。

### 2.4 波分多路复用 WDM

波分多路复用就是**光的频分多路复用**，在一根光纤中传输多种不同波长（频率）的光信号，由于波长（频率）不同，所以各路光信号互不干扰，最后再用波长分析复用器将各路波长分解出来。

![](../.gitbook/assets/image%20%2849%29.png)

### 2.5 码分多路复用 CDM

**码分多址（CDMA）**是码分复用的一种方式。

1 个比特分为多个码片/芯片（chip），每一个站点被指定一个唯一的 m 位**芯片序列**；**发送 1** 时发送芯片序列（通常把 0 写成 -1），**发送 0 时发送芯片序列反码**。

![](../.gitbook/assets/image%20%2877%29.png)

**分离数据的方法：**

1. 多个站点同时发送数据的时候，要求各个站点**芯片序列互相正交**，**规格化内积**为0

   ![](../.gitbook/assets/image%20%2851%29.png) ****

2. 两个向量到了公共信道上，**线性相加**

   \*\*\*\*![](../.gitbook/assets/image%20%2840%29.png) ****

3. 数据分离：合并的数据和源站点规格化内积

   ![](../.gitbook/assets/image%20%2879%29.png) 



