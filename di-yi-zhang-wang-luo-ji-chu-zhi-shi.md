# 第一章：网络基础知识

## 1. 计算机网络出现的背景

### 从独立模式到网络互连模式

**独立模式：**单计算机模式，每个计算机都拥有自己的客户数据，互相独立。

每个计算机只能处理一个业务，用户根据自己要处理的业务选择相应计算机。

**网络互连模式：**多台计算机之间相互连接，共享数据由远端服务器集中管理。

### 从计算机通信到信息通信

由最初的少数几台电脑互连，到有共同业务往来的机构互连，如同一公司、同一实验室等，形成一种**私有网络**。

随着发展，人们将多个私有网络相连形成更大的网络，最后发展成了任何一台计算机都互连，形成了互联网。

## 2. 计算机与网络发展的7个阶段

### 批处理

批处理之前，人们都是输入一行命令，计算机执行一条执行，命令行模式。

批处理就是事先将用户的程序和数据装入卡带和磁带，计算机按照一定的顺序读取命令。

**缺点：**

1. 操作复杂，只有专门的操作员才会操作
2. 处理时间长，一般不能立即得到结果

### 分时系统

多个终端与一个计算机相连，允许多个用户同时使用一台计算机的系统。

分时系统实现了 “一人一机” 的目的，让用户感觉就像 “完全是自己在使用一台计算机一样”，体现了分时系统的**独占性**。

### 计算机之间的通信

分时系统虽然是多个终端和一个计算机相连，但是这并不意味着计算机与计算机之间也是相互连接的。

在计算机间的通信技术诞生之前，如果想让一台计算机中的数据传到另一台计算机，比较繁琐，需要用到外部存储媒介，如磁带、软盘。

计算机之间通信让人们处理业务从一台计算机到多台计算机分布式处理，这大大加快了处理的效率和速度。

### 计算机网络的诞生

### 互联网的普及

### 以互联网技术为中心的时代

### 从“单纯建立连接”到“安全建立连接”



![](.gitbook/assets/image%20%286%29.png)

## 3. 协议

### 协议的必要性

协议是计算机与计算机之间事先达成的一种“约定”，这种“约定”让不同厂商，不同CPU以及不同操作系统组成的计算机之间，只要遵循这种协议就可以进行通信。

### 协议如同人与人的对话

**例子：**有三个人A、B、C。A只会说汉语、B只会说英语、而C既会说汉语又会说英语。

* 将汉语和英语当作“协议”
* 将聊天当作“通信”
* 将说话的内容当作“数据”

A和B无法交流，因为他们的语言不同，对方都听不懂；A和B都可以和C交流，因为C同时会汉语和英语

计算机也是如此，只有拥有相同的协议，才可以顺利的进行通信

### 计算机中的协议

人类具有理解能力，对于一些比较模糊的话，或者语法有误的话，还是可以理解意思；但是计算机没有。

所以计算机的各个组件必须严格的按照协议规定，才可以顺利通信。

![](.gitbook/assets/image%20%285%29.png)

### 分组交换协议

分组交换是指将一个大数据分割成一个个叫做包的较小单位进行传输的方法，目标主机再将这些小的单位按照顺序拼接起来。

每一个包都有一个首部，用来存放该包的信息，通信的时候可以根据报文首部来进行正确通信。

![](.gitbook/assets/image%20%284%29.png)

## 4. 协议由谁规定

最初，每个厂商都有自己的网络体系结构和协议，且不相互兼容，所以导致一个问题，只有相同厂商的产品才可以相互通信，这样带来了极大的不便。

为了解决上述问题，ISO 制定了一个国际标准 OSI，对通信系统进行了标准化。

![](.gitbook/assets/image%20%283%29.png)

**注：TCP/IP 是由 IETF 所建议的、致力于推进其标准化作业的一种协议。**

## 5. 协议分层与OSI参考模型

### 协议的分层

每个分层都接收由它下一层所提供的的特定服务，并且负责为自己上一层提供特定的服务。

上下层之间交互的叫做 “接口”，同一层之间交互的叫做 “协议”

![](.gitbook/assets/image.png)

### 通过对话理解分层

**前提条件：**

* A 和 C 对话
* 只考虑 **语言层** 和 **通信设备层**

![](.gitbook/assets/image%20%281%29.png)

**数据传输过程：**

1. 声音先从 A 口中说出，传入电话机中
2. 在通信设备层 声音 转换为 电波信号，传到另一方的电话机中
3. 另一方的电话机识别到电波信号，重新转化为 声音，传入 C 的耳中

### OSI 参考模型

OSI 参考模型将这样一个复杂的协议整理并分为了易于理解的7个层次。

![](.gitbook/assets/image%20%282%29.png)

不过，OSI 参考模型终究是一个 “模型”，它只是对各层的作用做了一系列粗略的界定，并没有对协议和接口进行详细的定义。

### OSI 参考模型中各个分层的作用

![](.gitbook/assets/image%20%287%29.png)

**应用层**

为应用程序提供服务并规定应用程序中通信相关的细节。包括文件传输、电子邮件、远程登录（虚拟终端）等协议

**表示层**

将应用处理的信息转换成为合适网络传输的格式，或将来自下一层的数据转换为上层能够处理的格式。因此它主要负责数据格式的转换。

具体来说，就是将设备固有的数据格式转化为网络标准传输格式。不同设备对同一比特流解释的结果可能会不一样。因此，使它们保持一致是这一层主要的作用。

**会话层**

负责建立和断开通信连接（数据流动的逻辑通路），以及数据的分割等数据传输相关的管理。

**传输层**

起着可靠传输的作用。只在**通信双方节点**上进行处理，而无需在路由器上处理。

通信双方节点：互连的网络中断，如计算机等设备。

**网络层**

将数据传输到目标地址。目标地址可以是多个网络通过路由器连接而成的某一个地址。因此这一层主要负责**寻址**和**路由选择**。

**数据链路层**

负责物理层面上互连的，节点之间的通信传输。

将 0、1序列划分为具有意义的数据帧传送给对端（数据帧的生成和接收）。

**物理层**

负责 0、1比特流（0、1 序列）与电压高低、光的闪灭之间的互换。

